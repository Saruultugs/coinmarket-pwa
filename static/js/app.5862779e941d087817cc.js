webpackJsonp([1],[,,,,,,function(t,e,n){"use strict";var a=n(7);e.a={mixins:[a.a],name:"app"}},function(t,e,n){"use strict";e.a={methods:{debug:function(t){console.log("debug",t)},go:function(t){"Post"===t.name&&this.$bar.start(),this.$router.push(t)},goBack:function(){this.$router.go(-1)}}}},function(t,e,n){"use strict";var a=n(7),s=n(27),i=n.n(s),r=n(28),o=n.n(r),c=n(47),l=n.n(c),u=new l.a;e.a={name:"List",mixins:[a.a],data:function(){return{tickers:null,global:null,selectedUnit:this.$root.$data.shared.isZh?"cny":"usd",selectedChange:"24h",showError:!1,loading:!0}},methods:{setUnit:function(){localStorage.setItem("unit",this.selectedUnit)},setChange:function(){localStorage.setItem("change",this.selectedChange)}},computed:{locale:function(){return this.$root.$data.shared.isZh?"zh_CN":"en_US"},totalMarketCap:function(){var t={cny:"¥"+i()(this.global.total_market_cap_cny/Math.pow(10,8)).format("0,000.00")+"亿",usd:"$"+i()(this.global.total_market_cap_usd/Math.pow(10,9)).format("0,000.00")+"B"};return/cny|usd/.test(this.selectedUnit)?t[this.selectedUnit]:t[this.$root.$data.shared.isZh?"cny":"usd"]}},filters:{format:function(t,e){return"btc"===e?i()(t*Math.pow(10,6)).format("0,000,000.00"):i()(t).format("0,0.00")},timeFormat:function(t,e){return u.format(new Date(1e3*t),e)}},created:function(){var t=this,e=function(){return t.$bar.start(),o.a.get("/api/coinmarketcap").then(function(e){t.tickers=e.data.tickers,t.global=e.data.global,t.loading=!1,t.$bar.finish()})};e().catch(function(n){console.log(n),e().catch(function(){t.showError=!0})});var n=localStorage.getItem("unit"),a=localStorage.getItem("change");n&&(this.selectedUnit=n),a&&(this.selectedChange=a)},mounted:function(){}}},,,,,,function(t,e,n){"use strict";e.a={name:"Post",data:function(){return{post:null,err:null,loading:!0}},methods:{},beforeRouteEnter:function(t,e,n){fetch("/api/cnbeta/"+t.params.id).then(function(t){return t.json()}).then(function(t){n(function(e){e.post=t,e.loading=!1,e.$bar.finish()})})},mounted:function(){}}},function(t,e,n){"use strict";e.a={data:function(){return{percent:0,show:!1,canSuccess:!0,duration:3e3,height:"2px",color:"#19c142",failedColor:"#ff0000"}},methods:{start:function(){var t=this;return this.show=!0,this.canSuccess=!0,this._timer&&(clearInterval(this._timer),this.percent=0),this._cut=1e4/Math.floor(this.duration),this._timer=setInterval(function(){t.increase(t._cut*Math.random()),t.percent>95&&t.finish()},100),this},set:function(t){return this.show=!0,this.canSuccess=!0,this.percent=Math.floor(t),this},get:function(){return Math.floor(this.percent)},increase:function(t){return this.percent=this.percent+Math.floor(t),this},decrease:function(t){return this.percent=this.percent-Math.floor(t),this},finish:function(){return this.percent=100,this.hide(),this},pause:function(){return clearInterval(this._timer),this},hide:function(){var t=this;return clearInterval(this._timer),this._timer=null,setTimeout(function(){t.show=!1,t.$nextTick(function(){setTimeout(function(){t.percent=0},200)})},500),this},fail:function(){return this.canSuccess=!1,this}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),s=n(19),i=n(23),r=n(55);a.a.config.productionTip=!1,a.a.use(r.a);var o={isZh:/zh/.test(window.navigator.language)},c={zh:{list:{updateTime:"更新时间",rank:"排名",symbol:"名称",price:"最新价",change:"涨跌",error:"请求超时，请稍后刷新重试",totalMarketCap:"总市值",btcDominance:"BTC占比"}},en:{list:{updateTime:"last update",rank:"Rank",symbol:"Symbol",price:"Price",change:"Change",error:"Timeout, please retry",totalMarketCap:"Market Cap",btcDominance:"BTC Dominance"}}},l=new r.a({locale:o.isZh?"zh":"en",messages:c});new a.a({el:"#app",data:{shared:o},router:i.a,i18n:l,template:"<App/>",components:{App:s.a}})},,,function(t,e,n){"use strict";function a(t){n(20)}var s=n(6),i=n(22),r=n(1),o=a,c=r(s.a,i.a,!1,o,null,null);e.a=c.exports},function(t,e){},,function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",[n("div",{staticClass:"title link",on:{click:function(e){t.go({path:"/"})}}},[t._v("\n        CoinMarket\n        "),n("span",{staticClass:"sub"},[t._v("Lite")])])]),t._v(" "),n("div",{staticClass:"main"},[n("keep-alive",[t.$route.meta.keepAlive?n("router-view"):t._e()],1),t._v(" "),t.$route.meta.keepAlive?t._e():n("transition",{attrs:{name:"fade"}},[n("router-view")],1)],1),t._v(" "),t._m(0)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",[n("a",{attrs:{href:"https://github.com/cyio/coinmarket-pwa",target:"_blank"}},[t._v("cyio/coinmarket-pwa")])])}],i={render:a,staticRenderFns:s};e.a=i},function(t,e,n){"use strict";var a=n(3),s=n(24),i=n(25),r=n(49),o=n(52),c=a.a.prototype.$bar=new a.a(o.a).$mount();document.body.appendChild(c.$el),a.a.use(s.a),e.a=new s.a({mode:"history",scrollBehavior:function(t,e,n){if(n)setTimeout(function(){window.scrollTo(n.x,n.y)},200);else if("Post"===t.name)return{x:0,y:0}},routes:[{path:"/",name:"List",component:i.a,meta:{keepAlive:!0}},{path:"/post/:id",name:"Post",component:r.a},{path:"*",redirect:"/"}]})},,function(t,e,n){"use strict";function a(t){n(26)}var s=n(8),i=n(48),r=n(1),o=a,c=r(s.a,i.a,!1,o,null,null);e.a=c.exports},function(t,e){},,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-view"},[n("div",{staticClass:"list"},[n("div",{staticClass:"info"},[t._v("\n      "+t._s(t.$t("list.totalMarketCap"))+":\n      "),t.loading?t._e():n("span",[t._v(t._s(t.totalMarketCap))]),t._v(" /\n      "+t._s(t.$t("list.btcDominance"))+":\n      "),t.loading?t._e():n("span",[t._v(t._s(t.global.bitcoin_percentage_of_market_cap)+"%")]),t._v(" /\n      "+t._s(t.$t("list.updateTime"))+"：\n      "),t.loading?t._e():n("span",[t._v(t._s(t._f("timeFormat")(t.global.last_updated,t.locale)))])]),t._v(" "),n("table",{staticClass:"table",attrs:{id:"products"}},[n("tbody",[n("tr",{staticClass:"headorder"},[n("th",{staticClass:"h-rank f-left"},[t._v(t._s(t.$t("list.rank")))]),t._v(" "),n("th",{staticClass:"h-name f-left"},[t._v(t._s(t.$t("list.symbol")))]),t._v(" "),n("th",{staticClass:"h-price f-left"},[t._v(t._s(t.$t("list.price"))+"\n            "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedUnit,expression:"selectedUnit"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedUnit=e.target.multiple?n:n[0]},t.setUnit]}},[n("option",{attrs:{value:"usd"}},[t._v("$")]),t._v(" "),n("option",{attrs:{value:"cny"}},[t._v("¥")]),t._v(" "),n("option",{attrs:{value:"btc"}},[t._v("Bits")])])]),t._v(" "),n("th",{staticClass:"h-change f-left"},[t._v(t._s(t.$t("list.change"))+"\n            "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedChange,expression:"selectedChange"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedChange=e.target.multiple?n:n[0]},t.setChange]}},[n("option",{attrs:{value:"24h"}},[t._v("24H")]),t._v(" "),n("option",{attrs:{value:"1h"}},[t._v("1H")]),t._v(" "),n("option",{attrs:{value:"7d"}},[t._v("7D")])])])]),t._v(" "),t.showError?n("div"):t._e(),t._v(" "),t._l(t.tickers,function(e){return t.loading?t._e():n("tr",{staticClass:"item"},[n("td",[n("span",[t._v(t._s(e.rank))])]),t._v(" "),n("td",[n("span",[t._v(t._s(e.symbol))])]),t._v(" "),n("td",{staticClass:"align-right"},[n("span",[t._v(t._s(t._f("format")(e["price_"+t.selectedUnit],t.selectedUnit)))])]),t._v(" "),n("td",{staticClass:"align-right"},[n("span",{staticClass:"change",class:{up:e["percent_change_"+t.selectedChange]>=0,down:e["percent_change_"+t.selectedChange]<0}},[t._v(t._s(t._f("format")(e["percent_change_"+t.selectedChange]))+"%")])])])})],2)])])])},s=[],i={render:a,staticRenderFns:s};e.a=i},function(t,e,n){"use strict";function a(t){n(50)}var s=n(14),i=n(51),r=n(1),o=a,c=r(s.a,i.a,!1,o,null,null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-view"},[t.loading?n("div",{staticClass:"loading"},[t._v("\n    loading...\n  ")]):n("div",[n("div",{staticClass:"title",domProps:{innerHTML:t._s(t.post.title)}}),t._v(" "),n("section",{staticClass:"content",domProps:{innerHTML:t._s(t.post.content)}})])])},s=[],i={render:a,staticRenderFns:s};e.a=i},function(t,e,n){"use strict";function a(t){n(53)}var s=n(15),i=n(54),r=n(1),o=a,c=r(s.a,i.a,!1,o,"data-v-62a57d02",null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"progress",style:{width:t.percent+"%",height:t.height,"background-color":t.canSuccess?t.color:t.failedColor,opacity:t.show?1:0}})},s=[],i={render:a,staticRenderFns:s};e.a=i}],[16]);
//# sourceMappingURL=app.5862779e941d087817cc.js.map